---
title: "안드로이드 애플리케이션과 프로세스"
excerpt: "안드로이드 애플리케이션의 컴포넌트와 프로세스 우선순위"
# layout: posts
classes: wide
categories: 
  - Android
tags:
  - android
  - application
read_time: false
last_modified_at: 2020-03-12T17:36:00+09:00
toc: true
---

## 애플리케이션

> 안드로이드 기기에 네이티브로 설치되고 실행되는 소프트웨어 프로그램.



## 안드로이드 애플리케이션의 컴포넌트

- **액티비티**
  애플리케이션의 표현 계층이다. 애플리케이션의 UI는 하나 이상의 Activity 클래스를 확장해 빌드된다. 액티비티는 **프래그먼트**와 **뷰**를 사용해 정보를 **화면에 표현**하고 **사용자 동작에 응답**한다. 

- **서비스**
  서비스 컴포넌트는 UI 없이 실행돼 **데이터 소스**를 **업데이트**하고 **알림**을 만들어 내며, 인텐트를 **브로드캐스트**한다. 서비스 컴포넌트는 지속 실행 태스크, 즉 사용자 상호 작용이 필요하지 않은 태스크(애플리케이션의 액티비티가 활성 상태가 아닐 때도 계속돼야 하는 태스크)를 수행하는 데 사용된다.

- **인텐트**
  강력한 애플리케이션 간 **메시지 전달 프레임워크**. 인텐트는 안드로이드에서 광범위하게 사용된다. 인텐트로 액티비티와 서비스를 시작하거나 정지할 수 있으며, 시스템 차원의 메시지를 **브로드캐스트**하거나 특정 액티비티 또는 서비스, 브로드캐스트 리시버로 메시지를 **브로드캐스트**할 수 있다. 그리고 특정 데이터에 수행될 작업을 요청할 수 있다.

- **브로드캐스트 리시버**
  단순히 **리시버**라고도 부르며 특정 영역의 인텐트를 주시하도록 지정된 애플리케이션에서 **브로드캐스트 인텐트를 수신**하는 데 사용된다. 브로드캐스트 리시버는 수신된 인텐트를 애플리케이션에서 응답하도록 하므로 이벤트 구동 방식의 애플리케이션을 만드는 데는 완벽한 도구인 셈이다.

- **컨텐트 프로바이더**
  애플리케이션 끼리 **데이터**를 **공유**하기 위한 방법이다. 다른 애플리케이션에서 접근할 수 있도록 설정하면 해당 애플리케이션이 노출한 컨텐트 프로바이더에도 접근할 수 있다. 안드로이드 기기에는 몇가지 네이티브 컨텐트 프로바이더가 함께 제공되며, 이들은 미디어 저장소나 연락처와 같은 활용도 높은 데이터베이스를 노출해 준다.

- **알림**
  현재 액티비티를 방해하거나 포커스를 가져오지 않으면서도 사용자에게 애플리케이션의 **이벤트**들을 알리는 방법이다. 특히 애플리케이션이 보이지 않을 때, 즉 **활성 상태가 아닐 때** 사용자의 주의를 환기시킬 수 있는 효율적인 방법으로, 일반적으로 서비스나 브로드캐스트 리시버 안에서부터 시작된다. 예를 들어 지메일 애플리케이션은 기기가 텍스트 메시지나 이메일을 받았을 때 사용자에게 알림을 통해 알린다.



## 안드로이드 애플리케이션의 수명 주기, 우선순위, 프로세스 상태

안드로이드 앱의 수명 주기는 **안드로이드 플랫폼**이 제어한다. 앱의 컴포넌트들은 애플리케이션의 상태를 주시하다가 변화를 감지하면 즉각 반응 해야하며, 예기치 않은 중단에 대처할 수 있도록 준비돼 있어야 한다.

안드로이드는 부드럽고 안정적인 **UX**를 제공하기 위해 우선순위가 낮은 애플리케이션을 **강제 종료**하여 우선순위가 높은 애플리케이션이 필요한 **리소스를 확보**할 수 있다(애플리케이션의 우선순위가 같다면 더 오래 실행된 프로세스를 먼저 종료시킨다).

### 프로세스 우선 순위

1. **활성 프로세스**(최고 우선순위)
    : 사용자가 상호 작용하는 애플리케이션 컴포넌트를 가진다. 이들은 안드로이드가 다른 애플리케이션으로부터 확보한 리소스를 바탕으로 부드럽고 적절한 반응성을 보장받아 실행되는 프로세스들이다.

2. **가시 프로세스**(높은 우선순위)
    : 보이기는 하지만 비활성 상태인 프로세스들은 보이는 액티비티 또는 포어그라운드 서비스를 호스팅한다. 보이는 액티비티는 이름 처럼 화면에 보이지만 포어그라운드에는 없으며, 사용자 입력에 반응하지 않는다. 이는 멀티윈도우 환경에서 활성 상태가 아닌 윈도우가 될 때를 가리킨다. 일반적으로 가시 프로세스는 많지 않다.

3. **시작된 백그라운드 서비스**(중간 우선순위)
    : 시작된 백그라운드 서비스를 호스팅하는 프로세스이다. 사용자와 직접적으로 상호 작용하지 않기 때문에 활성 액티비티나 포어그라운드 서비스보다 우선순위가 낮다.

4. **백그라운드 프로세스**(낮은 우선순위)
    : 화면에 보이지 않는 액티비티나 실행 중인 서비스를 갖지 않는 액티비티를 호스팅하는 프로세스. 안드로이드 기기의 홈 버튼이나 최근 앱 버튼을 눌러서 앱들을 전환하면 직전에 동작하던 애플리케이션이 백그라운드로 들어간다.



## 안드로이드 Application 클래스

애플리케이션의 **Application 객체**는 애플리케이션이 실행될 때마다 인스턴스로 생성되어 남아 있게 된다. 그러나 액티비티와 달리 안드로이드 기기의 구성 변경(가로, 세로 회전 등)이 생겨도 **다시 시작되지 않는다**. Application 클래스의 서브 클래스를 구현하면 ART가 브로드캐스트하는 애플리케이션 수준의 이벤트에 응답할 수 있다.